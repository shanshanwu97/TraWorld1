
<template name= "profiledisplay">
	<div class="container">
		<div class="row">
			<div class="col-md-3">
		<div class="panel panel-default">
		
		<!-- <div class="panel-body" style="min-height:220px;  overflow:hidden; background-position: center center;"> -->{{#if propicexist}}
		
    <div class="panel-body" style="max-height:230px; min-height:229px; overflow:hidden; background-position: center center;">
        <a href="{{propic.url}}" target="_blank"><img src="{{propic.url}}" style="object-fit:cover; width:230px; height:230px;" > </a></div>
      {{else}}
      <div class="panel-body">
      <div style="max-height:230px;  overflow:hidden">
        <img src="../images/icon-user-default.png" style="object-fit:cover;" width= "100%"> 
      </div></div>
      {{/if}}
      <!-- </div> -->
      <div class="panel-body">
		<h4>Name:</h4> {{userprof.profile.first}} {{userprof.profile.last}}<br>
		<h4>Email:</h4> {{#each e in userprof.emails}} {{e.address}}{{/each}}<br></div>
		<div class="panel-footer">
		 <button class="js-submitpropic btn btn-info" data-toggle="modal" data-target="#addPropic" >    <span class="js-changepic glyphicon glyphicon-pencil" aria-hidden="true"> </span> Change Profile Picture</button> 
		 </div></div>
		
 		
 	
 </div>
 	<div class="col-md-8">
 		<h1> {{userprof.profile.first}} {{userprof.profile.last}}</h1>
 		<div>

  <!-- Nav tabs -->
  <ul class="nav nav-tabs" role="tablist">
    
    <li role="presentation"><a href="#fav" aria-controls="profile" role="tab" data-toggle="tab">Favorites</a></li>
    <li role="presentation"><a href="#public" aria-controls="messages" role="tab" data-toggle="tab">Public Itineraries</a></li>
    
  </ul>

  <!-- Tab panes -->
  <div class="tab-content" style="height:100vh;">
    
    <div role="tabpanel" class="tab-pane active" id="fav">
    	{{#if anyfav}}
  You do not have any favorites yet!

  {{else}}
	<ul>
    {{#each r in userfavorites.favadded}}
      <!-- <div class="col-md-6"> --> {{>showfav r=r}}
             
    {{/each}}
  </ul>
  {{/if}}</div> 
    <div role="tabpanel" class="tab-pane" id="public">
    	{{#if anyit}}
    	You have not created any itineraries yet!
    	{{else}}
    	<ul>
    {{#each i in userit}}
      <!-- <div class="col-md-6"> --> {{>showIt i=i}}
             
    {{/each}}
  </ul>
    	{{/if}}</div>
    
  </div>

</div>


 	</div> 
 </div>
<div class="modal fade" id="addPropic" >
    <div class="modal-dialog">
      <div class="modal-content">
      <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
             <h4 class="modal-title" id="modelLabel">Profile Picture</h4>
          </div>
           <form id="addPpic">
        <div class="modal-body">
         
          <div class="form-group required">
<input class="your-upload-class" type="file">
</div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <button  class="btn btn-primary js-uploadpro" id="uploadpro">Upload</button>
        </div>
       </div>  
      </form>
   
    </div>
  </div>
</div>
	</div>
</template>
<template name="showfav">
	 <div class="alert alert-warning col-md-12">
          <a href="/showsearch/{{r}}"><h4>{{findfavtrip.title}}</h4></a>
        
         by<a href="/showuser/{{findfavtrip.createdBy}}">  {{findfavtrip.username}}</a> on {{findfavtrip.datecreated}}
         </div>
	</template>
	<template name="showIt">
		<div class="alert alert-warning col-md-12">
		<a href="/showsearch/{{i._id}}"><h4>{{i.title}}</h4></a>
	</div>
	</template>
<template name="showUser">
	<div class="container">
		<div class="row">
			<div class="col-md-3">
		<div class="panel panel-default">
		<div class="panel-body">
      {{#if propicex}}
		<div style="max-height:230px;  overflow:hidden">
        <a href="{{propic.url}}" target="_blank"><img src="{{propic.url}}" style="object-fit:cover; width:230px; height:230px;" width= "100%"> </a>
      </div>
      {{else}}
<div style="max-height:230px;  overflow:hidden">
        <img src="../images/icon-user-default.png" width= "100%"> 
      </div>
      {{/if}}
      
      
		<h4>Name:</h4> {{profile.first}} {{profile.last}}<br>
		<h4>Email:</h4> {{#each e in emails}} {{e.address}}{{/each}}<br></div>
		
 		<br>
 	</div>
 </div>
 	<div class="col-md-8">
 		<h1> {{profile.first}} {{profile.last}}</h1>
 		<div>

  <!-- Nav tabs -->
  <ul class="nav nav-tabs" role="tablist">
    <!-- <li role="presentation" class="active"><a href="#homeprof" aria-controls="home" role="tab" data-toggle="tab">Home</a></li> -->
    <li role="presentation"><a href="#fav" aria-controls="profile" role="tab" data-toggle="tab">Favorites</a></li>
    <li role="presentation"><a href="#public" aria-controls="messages" role="tab" data-toggle="tab">Public Itineraries</a></li>
    <!-- <li role="presentation"><a href="#settings" aria-controls="settings" role="tab" data-toggle="tab">Settings</a></li> -->
  </ul>

  <!-- Tab panes -->
  <div class="tab-content" style="height:100vh;">
    <!-- <div role="tabpanel" class="tab-pane active" id="homeprof">
    	<div class="col-md-7">This user have not added anything to the profile</div>
    	</div> -->
    <div role="tabpanel" class="tab-pane active" id="fav"><div class="col-md-6"></div> {{#if anyfav}}
  This user do not have any favorites yet!

  {{else}}
	<ul>
    {{#each r in userfavorites.favadded}}
      <!-- <div class="col-md-6"> --> {{>showfav r=r}}
             
    {{/each}}
  </ul>
  {{/if}}</div>
    <div role="tabpanel" class="tab-pane" id="public">{{#if anyit}}
    	This user have not created any itineraries yet!
    	{{else}}
    	<ul>
    {{#each i in userit}}
      <!-- <div class="col-md-6"> --> {{>showIt i=i}}
             
    {{/each}}
  </ul>
    	{{/if}}</div>
    <div role="tabpanel" class="tab-pane" id="settings">...</div>
  </div>

</div>


 	</div> 
 </div>

	</div>
	</template>
